"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2327],{2327:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(9998),r=s(2505),i=s.n(r),l=s(3684);function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var s={}.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}const c={components:{VuejsDatatableFactory:a.qr},data:function(){return{login_user:l.A.user,fields:[{key:"select",label:"",visible:!0},{key:"product_variant_id",label:__("id"),visible:!0,sortable:!0,sortDirection:"desc"},{key:"product_id",label:__("product_id"),visible:!0,sortable:!0,sortDirection:"desc"},{key:"tax_id",label:__("tax_id"),visible:!1,sortable:!0,class:"text-center"},{key:"seller_name",label:__("seller_name"),visible:!0,class:"text-center",sortable:!0},{key:"name",label:__("name"),visible:!0,sortable:!0,class:"text-center"},{key:"image",label:__("image"),visible:!0,class:"text-center"},{key:"price",label:__("price")+"("+this.$currency+")",visible:!0,class:"text-center",sortable:!0},{key:"discounted_price",label:__("discounted_price")+"("+this.$currency+")",visible:!0,class:"text-center",sortable:!0},{key:"measurement",label:__("measurement"),visible:!0,class:"text-center",sortable:!0},{key:"stock",label:__("stock"),visible:!0,class:"text-center",sortable:!0},{key:"availability",label:__("availability"),visible:!0,class:"text-center",sortable:!0},{key:"status",label:__("status"),visible:!0,class:"text-center",sortable:!0},{key:"indicator",label:__("indicator"),visible:!1,class:"text-center",sortable:!0},{key:"is_approved",label:__("is_approved"),visible:!1,class:"text-center",sortable:!0},{key:"return_status",label:__("return"),visible:!1,class:"text-center",sortable:!0},{key:"cancelable_status",label:__("cancellation"),visible:!1,class:"text-center",sortable:!0},{key:"till_status",label:__("till_status"),visible:!1,class:"text-center",sortable:!0},{key:"actions",label:__("actions"),visible:!0}],totalRows:1,currentPage:1,perPage:this.$perPage,pageOptions:this.$pageOptions,sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],categories:[],sellers:[],products:[],category:"",seller:null!==l.A.user.seller?l.A.user.seller.id:"",is_approved:"",selectedItems:[],select:"",all_select:!1,isLoading:!1}},computed:{visibleFields:function(){return this.fields.filter((function(e){return e.visible}))},isSellerRoute:function(){return this.$route.path.startsWith("/seller/")}},mounted:function(){},created:function(){var e=this;this.$roleSeller===this.login_user.role.name&&this.fields.forEach((function(t,s){"seller_name"===t.key&&e.fields.splice(s,1)})),this.getRecords()},methods:{getRecords:function(){var e=this;this.isLoading=!0;var t={category:this.category,seller:this.seller,is_approved:this.is_approved};i().get(this.$apiUrl+"/products",{params:t}).then((function(t){e.isLoading=!1,e.categories=t.data.data.categories,e.sellers=t.data.data.sellers,e.products=t.data.data.products,e.totalRows=e.products.length}))},getSubCategories:function(){var e=this;this.isLoading=!0;var t=this.$apiUrl+"/subcategories";this.category_id&&(t=this.$apiUrl+"/subcategories/"+this.category_id),i().get(t).then((function(t){e.isLoading=!1;var s=t.data;e.subcategories=s.data}))},deleteRecord:function(e,t){var s=this;this.$swal.fire({title:"Are you Sure?",text:"You want be able to revert this",confirmButtonText:"Yes, Sure",cancelButtonText:"Cancel",icon:"warning",showCancelButton:!0,confirmButtonColor:"#37a279",cancelButtonColor:"#d33"}).then((function(a){if(a.value){s.isLoading=!0;var r={id:t};i().post(s.$apiUrl+"/products/delete",r).then((function(t){s.isLoading=!1;var a=t.data;s.products.splice(e,1),s.showMessage("success",a.message)}))}}))},updateStatusProduct:function(e,t){var s=this;this.$swal.fire({title:"Are you Sure?",text:"You want to change status.",confirmButtonText:"Yes, Sure",cancelButtonText:"Cancel",icon:"warning",showCancelButton:!0,confirmButtonColor:"#37a279",cancelButtonColor:"#d33"}).then((function(e){if(e.value){s.isLoading=!0;var a={id:t};i().post(s.$apiUrl+"/products/change",a).then((function(e){s.isLoading=!1,s.getRecords(),s.showMessage("success",e.data.message)}))}}))},allSelectCheckBox:function(){var e=this;0==this.all_select?(this.all_select=!0,this.products.forEach((function(t){e.selectedItems.push(t.product_variant_id)}))):(this.all_select=!1,this.selectedItems=[])},selectCheckBox:function(){var e=o(new Set(this.selectedItems));this.products.length===e.length?this.all_select=!0:this.all_select=!1},multipleDelete:function(){var e=this,t=o(new Set(this.selectedItems));0!==t.length?this.$swal.fire({title:"Are you Sure?",text:"You want be able to revert this",confirmButtonText:"Yes, Sure",cancelButtonText:"Cancel",icon:"warning",showCancelButton:!0,confirmButtonColor:"#37a279",cancelButtonColor:"#d33"}).then((function(s){if(s.value){var a=t.toString();e.isLoading=!0;var r={ids:a};i().post(e.$apiUrl+"/products/multiple_delete",r).then((function(t){e.isLoading=!1;var s=t.data;e.getRecords(),e.selectedItems=[],e.all_select=!1,e.showMessage("success",s.message)}))}})):this.showWarning("Select at least one record!")}}};const d=(0,s(4486).A)(c,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"page-heading"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-md-6 order-md-1 order-last"},[t("h3",[e._v(e._s(e.__("manage_products")))])]),e._v(" "),t("div",{staticClass:"col-12 col-md-6 order-md-2 order-first"},[t("nav",{staticClass:"breadcrumb-header float-start float-lg-end",attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb"},[e.isSellerRoute?t("li",{staticClass:"breadcrumb-item"},[t("router-link",{attrs:{to:"/seller/dashboard"}},[e._v(e._s(e.__("dashboard")))])],1):t("li",{staticClass:"breadcrumb-item"},[t("router-link",{attrs:{to:"/dashboard"}},[e._v(e._s(e.__("dashboard")))])],1),e._v(" "),t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v(e._s(e.__("manage_products")))])])])])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-md-12 order-md-1 order-last"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("h4",[e._v(e._s(e.__("products")))]),e._v(" "),t("span",{staticClass:"pull-right"},[e.$roleSeller==e.login_user.role.name?[t("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-primary",attrs:{to:"/seller/manage_products/create",title:"Add Product"}},[e._v(e._s(e.__("add_product")))])]:[t("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-primary",attrs:{to:"/manage_products/create",title:"Add Product"}},[e._v(e._s(e.__("add_product")))])]],2)]),e._v(" "),t("div",{staticClass:"card-body"},[t("div",{staticClass:"row"},[t("div",{staticClass:"form-group col-md-3"},[t("b-dropdown",{staticClass:"m-2",attrs:{size:"sm",dropright:"",text:e.__("actions"),"split-variant":"outline-primary",variant:"primary",disabled:0===e.selectedItems.length}},[t("b-dropdown-item",{attrs:{href:"javascript:void(0);"},on:{click:e.multipleDelete}},[t("span",{staticClass:"text-danger",staticStyle:{"font-weight":"bold"}},[t("i",{staticClass:"fa fa-trash"}),e._v(" "+e._s(e.__("delete_selected_products")))])])],1)],1)]),e._v(" "),t("b-row",{staticClass:"mb-2"},[t("b-col",{attrs:{md:"2"}},[t("h6",{staticClass:"box-title"},[e._v(e._s(e.__("filter_by_products_category")))]),e._v(" "),t("form",{attrs:{method:"post"}},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],staticClass:"form-control form-select",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.category=t.target.multiple?s:s[0]},function(t){return e.getRecords()}]}},[t("option",{attrs:{value:""}},[e._v("All Categories")]),e._v(" "),e._l(e.categories,(function(s){return t("option",{domProps:{value:s.id}},[e._v("\n                                                "+e._s(s.name)+"\n                                            ")])}))],2)])]),e._v(" "),t("b-col",{attrs:{md:"2"}},[t("h6",{staticClass:"box-title"},[e._v(e._s(e.__("filter_products_by_status"))+" ")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.is_approved,expression:"is_approved"}],staticClass:"form-control form-select",attrs:{id:"is_approved",name:"is_approved"},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.is_approved=t.target.multiple?s:s[0]},function(t){return e.getRecords()}]}},[t("option",{attrs:{value:""}},[e._v("Select Status")]),e._v(" "),t("option",{attrs:{value:"1"}},[e._v("Approved")]),e._v(" "),t("option",{attrs:{value:"2"}},[e._v("Not-Approved")])])]),e._v(" "),e.$roleSeller==e.login_user.role.name?[t("input",{directives:[{name:"model",rawName:"v-model",value:e.seller=e.login_user.seller.id,expression:"seller = login_user.seller.id"}],attrs:{type:"hidden"},domProps:{value:e.seller=e.login_user.seller.id},on:{input:function(t){t.target.composing||e.$set(e.seller=e.login_user.seller,"id",t.target.value)}}})]:[t("b-col",{attrs:{md:"3"}},[t("h6",{staticClass:"box-title"},[e._v(e._s(e.__("filter_products_by_seller"))+" ")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.seller,expression:"seller"}],staticClass:"form-control form-select",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.seller=t.target.multiple?s:s[0]},function(t){return e.getRecords()}]}},[t("option",{attrs:{value:""}},[e._v("All Sellers")]),e._v(" "),e._l(e.sellers,(function(s){return t("option",{domProps:{value:s.id}},[e._v(e._s(s.name))])}))],2)])],e._v(" "),t("b-col",{class:e.$roleSeller==e.login_user.role.name?"offset-3":"",attrs:{md:"3"}},[t("h6",{staticClass:"box-title"},[e._v(e._s(e.__("search")))]),e._v(" "),t("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:e.__("search")},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),e._v(" "),t("b-col",{staticClass:"text-center",attrs:{md:"2"}},[t("div",{staticClass:"btn-group btn_tool",attrs:{role:"group","aria-label":"Basic example"}},[t("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-primary",attrs:{type:"button",title:e.__("refresh")},on:{click:function(t){return e.getRecords()}}},[t("i",{staticClass:"fa fa-refresh",attrs:{"aria-hidden":"true"}})]),e._v(" "),t("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{dropleft:"","menu-class":"w-100 border dropdownOverflow",title:"Columns"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fa fa-th-list"})]},proxy:!0}])},[e._v(" "),e._l(e.fields,(function(s){return"select"!==s.key?t("li",{key:s.key,staticClass:"m-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.visible,expression:"field.visible"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:s.key,disabled:1==e.visibleFields.length&&s.visible},domProps:{checked:Array.isArray(s.visible)?e._i(s.visible,null)>-1:s.visible},on:{change:function(t){var a=s.visible,r=t.target,i=!!r.checked;if(Array.isArray(a)){var l=e._i(a,null);r.checked?l<0&&e.$set(s,"visible",a.concat([null])):l>-1&&e.$set(s,"visible",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(s,"visible",i)}}}),e._v(" "),t("label",{attrs:{for:s.key}},[e._v(e._s(s.label))]),e._v(" "),t("b-dropdown-divider")],1):e._e()}))],2)],1),e._v(" "),t("b-sidebar",{attrs:{id:"sidebar-right",title:"Sidebar",backdrop:"",right:"",shadow:""}},[t("div",{staticClass:"px-3 py-2"},[t("p",[e._v("\n                                                Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis\n                                                in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n                                            ")]),e._v(" "),t("b-img",{attrs:{src:"https://picsum.photos/500/500/?image=54",fluid:"",thumbnail:""}})],1)])],1)],2),e._v(" "),t("div",{staticClass:"table-responsive"},[t("b-table",{attrs:{items:e.products,fields:e.visibleFields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,bordered:!0,busy:e.isLoading,stacked:"md","show-empty":"",small:""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"table-busy",fn:function(){return[t("div",{staticClass:"text-center text-black my-2"},[t("b-spinner",{staticClass:"align-middle"}),e._v(" "),t("strong",[e._v(e._s(e.__("loading"))+"...")])],1)]},proxy:!0},{key:"head(select)",fn:function(s){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.all_select,expression:"all_select"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.all_select)?e._i(e.all_select,null)>-1:e.all_select},on:{click:e.allSelectCheckBox,change:function(t){var s=e.all_select,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.all_select=s.concat([null])):i>-1&&(e.all_select=s.slice(0,i).concat(s.slice(i+1)))}else e.all_select=r}}})]}},{key:"cell(select)",fn:function(s){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedItems,expression:"selectedItems"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:"".concat(s.item.product_variant_id),checked:Array.isArray(e.selectedItems)?e._i(e.selectedItems,"".concat(s.item.product_variant_id))>-1:e.selectedItems},on:{change:[function(t){var a=e.selectedItems,r=t.target,i=!!r.checked;if(Array.isArray(a)){var l="".concat(s.item.product_variant_id),o=e._i(a,l);r.checked?o<0&&(e.selectedItems=a.concat([l])):o>-1&&(e.selectedItems=a.slice(0,o).concat(a.slice(o+1)))}else e.selectedItems=i},e.selectCheckBox]}})]}},{key:"cell(seller_name)",fn:function(t){return[e._v("\n                                        "+e._s(t.item.seller_name)+"\n                                    ")]}},{key:"cell(image)",fn:function(s){return[s.item.image?t("img",{attrs:{src:e.$storageUrl+s.item.image,height:"50"}}):e._e()]}},{key:"cell(measurement)",fn:function(t){return[e._v("\n                                        "+e._s(t.item.measurement)+"\n                                    ")]}},{key:"cell(stock)",fn:function(s){return[s.item.is_unlimited_stock?t("span",[e._v("Unlimited")]):[e._v("\n                                            "+e._s(s.item.stock)+" "),s.item.stock_unit?t("span",[e._v(e._s(s.item.stock_unit))]):e._e()]]}},{key:"cell(availability)",fn:function(s){return[e.$can("product_update")?t("a",{staticClass:"btn btn-sm",on:{click:function(t){return e.updateStatusProduct(s.index,s.item.id)}}},[1==s.item.status?t("span",{staticClass:"primary-toggal"},[t("i",{staticClass:"fa fa-toggle-on fa-2x"})]):t("span",{staticClass:"text-danger"},[t("i",{staticClass:"fa fa-toggle-off fa-2x"})])]):e._e()]}},{key:"cell(status)",fn:function(s){return[1==s.item.status?t("span",{staticClass:"badge bg-success"},[e._v("Available")]):e._e(),e._v(" "),0==s.item.status?t("span",{staticClass:"badge bg-danger"},[e._v("Sold Out")]):e._e()]}},{key:"cell(indicator)",fn:function(s){return[0==s.item.indicator?t("span",{staticClass:"badge bg-info"},[e._v("None")]):e._e(),e._v(" "),1==s.item.indicator?t("span",{staticClass:"badge bg-success"},[e._v("Veg")]):e._e(),e._v(" "),2==s.item.indicator?t("span",{staticClass:"badge bg-danger"},[e._v("Non-Veg")]):e._e()]}},{key:"cell(is_approved)",fn:function(s){return[1==s.item.is_approved?t("span",{staticClass:"badge bg-success"},[e._v("Approved")]):e._e(),e._v(" "),0==s.item.is_approved?t("span",{staticClass:"badge bg-danger"},[e._v("Not-Approved")]):e._e()]}},{key:"cell(return_status)",fn:function(s){return[0==s.item.return_status?t("span",{staticClass:"badge bg-danger"},[e._v("Not-Allowed")]):e._e(),e._v(" "),1==s.item.return_status?t("span",{staticClass:"badge bg-success"},[e._v("Allowed")]):e._e()]}},{key:"cell(cancelable_status)",fn:function(s){return[0===s.item.cancelable_status?t("span",{staticClass:"badge bg-danger"},[e._v("Not-Allowed")]):e._e(),e._v(" "),1==s.item.cancelable_status?t("span",{staticClass:"badge bg-success"},[e._v("Allowed")]):e._e()]}},{key:"cell(till_status)",fn:function(s){return["0"==s.item.till_status?t("span",{staticClass:"badge bg-danger"},[e._v("Not Applicable")]):e._e(),e._v(" "),"2"==s.item.till_status?t("span",{staticClass:"badge bg-success"},[e._v(e._s(s.item.till_status_name))]):e._e(),e._v(" "),"3"==s.item.till_status?t("span",{staticClass:"badge bg-success"},[e._v(e._s(s.item.till_status_name))]):e._e(),e._v(" "),"4"==s.item.till_status?t("span",{staticClass:"badge bg-success"},[e._v(e._s(s.item.till_status_name))]):e._e(),e._v(" "),"6"==s.item.till_status?t("span",{staticClass:"badge bg-success"},[e._v(e._s(s.item.till_status_name))]):e._e()]}},{key:"cell(actions)",fn:function(s){return[t("div",{staticStyle:{width:"120px"}},[e.$roleSeller==e.login_user.role.name?[t("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"SellerViewProduct",params:{id:s.item.id,record:s.item}},title:e.__("view")}},[t("i",{staticClass:"fa fa-eye"})]),e._v(" "),e.$can("product_update")?t("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-success btn-sm",attrs:{to:{name:"SellerEditProduct",params:{id:s.item.id,record:s.item}},title:e.__("edit")}},[t("i",{staticClass:"fa fa-pencil"})]):e._e()]:[t("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"ViewProduct",params:{id:s.item.id,record:s.item}},title:e.__("view")}},[t("i",{staticClass:"fa fa-eye"})]),e._v(" "),e.$can("product_update")?t("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-success btn-sm",attrs:{to:{name:"EditProduct",params:{id:s.item.id,record:s.item}},title:e.__("edit")}},[t("i",{staticClass:"fa fa-pencil"})]):e._e()],e._v(" "),e.$can("product_delete")?t("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-danger btn-sm",attrs:{title:e.__("delete")},on:{click:function(t){return e.deleteRecord(s.index,s.item.product_variant_id)}}},[t("i",{staticClass:"fa fa-trash"})]):e._e()],2)]}}])})],1),e._v(" "),t("b-row",[t("b-col",{attrs:{md:"2"}},[t("label",[t("b-form-group",{staticClass:"mb-0",attrs:{label:e.__("per_page"),"label-for":"per-page-select","label-align-sm":"right","label-size":"sm"}},[t("b-form-select",{staticClass:"form-control form-select",attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)]),e._v(" "),t("b-col",{attrs:{md:"4","offset-md":"6"}},[t("label",[e._v("Total Records :- "+e._s(e.totalRows)+" ")]),e._v(" "),t("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)])])])])])}),[],!1,null,null,null).exports}}]);